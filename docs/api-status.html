<!doctype html>
<html lang='en'>
<head>
  <title>Tectonic - Status API</title>
  <!-- I understand that this could be made better, but I really wanna get the docs out. Plus HTTP2! :D -->
<link href="https://fonts.googleapis.com/css?family=Droid+Sans|Droid+Serif" rel="stylesheet">
<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/4.1.0/sanitize.min.css' />
<link rel='stylesheet' href='styles.css' />

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>

</head>
<body>
  <div class='wrapper'>
    <div class='sidebar'>
  <ol>
    <a href='/tectonic/guide-setup.html'><li>Installation</li></a>
    <li>
      Queries
      <ol>
        <a href='/tectonic/queries-basic.html'><li>Basic GET queries</li></a>
        <a href='/tectonic/queries-dependent.html'><li>Dependent data loading</li></a>
        <a href='/tectonic/queries-side-effects.html'><li>Queries with side effects</li></a>
        <a href='/tectonic/queries-polling.html'><li>Polling*</li></a>
        <a href='/tectonic/queries-status.html'><li>Status injection*</li></a>
      </ol>
    </li>
    <li>
      API Documentation
      <ol>
        <a href='/tectonic/api-decorator.html'><li><code>@load</code> decorator API</li></a>
        <a href='/tectonic/api-manager.html'><li>Manager API</li></a>
        <a href='/tectonic/api-model.html'><li>Model API</li></a>
        <a href='/tectonic/api-source-definitions.html'><li>Source definition API</li></a>
        <a href='/tectonic/api-status.html'><li>Status API</li></a>
      </ol>
    </li>
    <li>
      Internals (TODO)
      <ol>
        <a href='/tectonic/internals-cache.html'><li>Cache</li></a>
        <a href='/tectonic/internals-decorator.html'><li>Decorator</li></a>
        <a href='/tectonic/internals-driver.html'><li>Driver</li></a>
        <a href='/tectonic/internals-manager.html'><li>Manager</li></a>
        <a href='/tectonic/internals-model.html'><li>Model</li></a>
        <a href='/tectonic/internals-propinspector.html'><li>PropInspector</li></a>
        <a href='/tectonic/internals-query.html'><li>Query</li></a>
        <a href='/tectonic/internals-reducer.html'><li>Reducer</li></a>
        <a href='/tectonic/internals-resolver.html'><li>Resolver</li></a>
        <a href='/tectonic/internals-source-definition.html'><li>Source Definition</li></a>
    </li>
  </ol>
</div>

    <div class='content'>
      <div>
        <h1>Status API</h1>

<p>Status classes are automatically injected for every query you make within the
<code>@load</code> decorator.</p>

<p>They&rsquo;re a basic class with only a few attributes, letting you know whether each
query is pending, successful or failed.</p>

<p>The basic definition is this:</p>

<pre><code class="language-js">class Status {
  const status = &lt;'PENDING' | 'SUCCESS' | 'ERROR'&gt;'

  // code stores the HTTP status code for the request
  const code;

  // error represents the error as returned from the driver
  const error;

  isPending() =&gt; this.status === 'PENDING';
  isSuccess() =&gt; this.status === 'SUCCESS';
  isError() =&gt; this.status === 'ERROR';
}
</code></pre>

<p>Normally you&rsquo;d use <code>this.props.status.myQuery.isPending()</code> to show a loading
state, and <code>.isError()</code> to detect when things go wrong. Not so complex to
deal with.</p>

      </div>
    </div>
  </div>
  <script>hljs.initHighlightingOnLoad();</script>
</body>
</html>


